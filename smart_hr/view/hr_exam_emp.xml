<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>

		<menuitem id="hr_configuration_examination_root" sequence="20"
			name="الفحص الطبي" parent="smart_hr.hr_root_configuration" />

		<!--أنواع الفحص الطبي -->

		<record id="medical_category_form" model="ir.ui.view">
			<field name="name">medical.category.form</field>
			<field name="model">medical.category</field>
			<field name="arch" type="xml">
				<form string="الفحص الطبي ">
					<sheet>
						<group>
							<group>
								<field name="name" />
								<field name="code" />
							</group>
							<group>
								<field name="name_en" />
								<field name="position" />
							</group>
						</group>

						<field name="exams" string=" أنواع الفحص الطبي">
							<tree editable="bottom">
								<field name="code" />
								<field name="name" />
								<field name="name_en" />
							</tree>
						</field>

					</sheet>
				</form>
			</field>
		</record>

		<record id="medical_category_tree" model="ir.ui.view">
			<field name="name">medical.category.tree</field>
			<field name="model">medical.category</field>
			<field name="arch" type="xml">
				<tree string="الفحص الطبي">
					<field name="name" />
					<field name="code" />
				</tree>
			</field>
		</record>

		<record model="ir.actions.act_window" id="action_medical_category">
			<field name="name">الفحص الطبي</field>
			<field name="res_model">medical.category</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>
		<!-- config menu -->
		<menuitem id="hr_configuration_examination" name="الفحص الطبي"
			sequence="25" parent="hr_configuration_examination_root" action="action_medical_category" />



		<!-- الفحص الطبي للموظف -->


		<record id="employee_medical_exam_form" model="ir.ui.view">
			<field name="name">employee.medical.exam.form</field>
			<field name="model">employee.medical.exam</field>
			<field name="arch" type="xml">
				<form string="الفحص الطبي ">
					<sheet>
						<group>
							<group>
								<field name="employee" domain="['|',('state','=','employee'),('state','=','done'), ('job_id','!=',False)]"  />
								<field name="sequence" />
								
							</group>
							<group>
								<field name="job" />
								<field name="hospital"
						domain="[('company_type','=','hospital')]" />
							</group>
						</group>

						<field name="exams_results" string="اﻷختبارات">
							<tree editable="bottom">
								<field name="exam" />
								<field name="result" />
							</tree>
						</field>

					</sheet>
				</form>
			</field>
		</record>

		<record id="employee_medical_exam_tree" model="ir.ui.view">
			<field name="name">employee.medical.exam.tree</field>
			<field name="model">employee.medical.exam</field>
			<field name="arch" type="xml">
				<tree string="الفحص الطبي">
					<field name="employee"/>
					<field name="create_date" string="تاريخ الانشاء" />
				</tree>
			</field>
		</record>

		<record model="ir.actions.act_window" id="action_employee_medical_exam">
			<field name="name">الفحص الطبي</field>
			<field name="res_model">employee.medical.exam</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>
		<menuitem id="medical_examination" name="الفحص الطبي"
			sequence="5" parent="hr_root_employees" action="action_employee_medical_exam" />





	</data>
</openerp>