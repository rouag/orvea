<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>

		<!-- الوظائف -->

		<record model="ir.ui.view" id="hr_job_tree_view">
			<field name="name">hr.job.tree</field>
			<field name="model">hr.job</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="الوظائف" create='0' edit='0' delete='0'
					duplicate='0'>
					<field name="number" />
					<field name="name" />
					<field name="department_id" />
					<field name="type_id" />
					<field name="grade_id" />
					<field name="create_date" />
					<field name="write_date" />
					<field name="state" />
				</tree>
			</field>
		</record>

		<record model="ir.ui.view" id="hr_job_form_view">
			<field name="name">hr.job.form</field>
			<field name="model">hr.job</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="الوظائف" create="0" edit="0" delete="0">
					<header>
						<button name="action_job_reservation" string="حجز الوظيفة"
							type="object" groups="smart_hr.group_job_managmenet" states="unoccupied" />

						<field name="state" widget="statusbar" statusbar_visible="unoccupied,occupied,cancel" />
					</header>
					<sheet>
						<div class="oe_title">
							<label for="name" class="oe_edit_only" />
							<h1>
								<field name="name" placeholder="المسمى" />
							</h1>
						</div>
						<group col="4">
							<field name="number" />
							<field name="employee" attrs="{'invisible': [('state','!=', 'occupied')]}" />
							<field name="genral_id" />
							<field name="specific_id" />
							<field name="serie_id" />
							<field name="department_id" />
							<field name="type_id" />
							<field name="grade_id" />
							<field name="create_date" />
							<field name="write_date" />
							<field name="deputed_employee" />

						</group>
						<field name="name" placeholder="الوصف" />
					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers"
							groups="base.group_user" />
						<field name="message_ids" widget="mail_thread" />
					</div>
				</form>
			</field>
		</record>

		<record id="hr_job_search_view" model="ir.ui.view">
			<field name="name">hr.job.search</field>
			<field name="model">hr.job</field>
			<field name="arch" type="xml">
				<search string="الوظائف">
					<field name="number" />
					<field name="name" />
					<group expand="0" string="تجميع حسب...">
						<filter name="department_id" string="القسم" domain="[]"
							context="{'group_by':'department_id'}" />
					</group>
				</search>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_hr_job">
			<field name="name">الوظائف</field>
			<field name="res_model">hr.job</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>
		<record id="action_hr_job_tree" model="ir.actions.act_window.view">
			<field name="view_mode">tree</field>
			<field name="view_id" ref="hr_job_tree_view" />
			<field name="act_window_id" ref="action_hr_job" />
		</record>

		<record id="action_hr_job_form" model="ir.actions.act_window.view">
			<field name="view_mode">form</field>
			<field name="view_id" ref="hr_job_form_view" />
			<field name="act_window_id" ref="action_hr_job" />
		</record>

		<menuitem id="hr_job_menu" name="الوظائف" sequence="5"
			parent="hr_root_job" action="action_hr_job" />


		<!-- إحداث وظائف -->

		<record model="ir.ui.view" id="hr_job_create_tree">
			<field name="name">hr.job.create.tree</field>
			<field name="model">hr.job.create</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="إحداث وظائف" delete='0'>
					<field name="name" />
					<field name="speech_number" />
					<field name="speech_date" />
					<field name="state" />
				</tree>
			</field>
		</record>
		<record model="ir.ui.view" id="hr_job_create_form">
			<field name="name">hr.job.create.form</field>
			<field name="model">hr.job.create</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="إحداث وظائف">
					<header>
						<button name="action_waiting" string="إرسال للإعتماد" type="object"
							states="new" />
						<button name="action_done" string="إعتماد" type="object"
							states="waiting" />
						<button name="action_refuse" string="رفض" type="object"
							states="waiting" />
						<field name="state" widget="statusbar" statusbar_visible="new,waiting,done" />
					</header>
					<sheet string="إحداث وظائف">
						<group col="4">
							<field name="name" />
							<field name="speech_number" />
							<field name="speech_date" />
							<field name="speech_picture" />
							<field name="grade_ids" invisible="1"/>
						</group>
						<group col="6">
							<field name="genral_id" domain="[('type_groupe', '=', 'general')]" />
							<field name="specific_id" domain="[('parent_id', '=', genral_id)]" />
							<field name="serie_id" domain="[('parent_id', '=',specific_id)]" />
						</group>

						<field name="line_ids" string=" الوظائف">
							<tree editable="bottom">
								<field name="name" />
								<field name="number" />
								<field name="type_id" />
								<field name="grade_id"
									domain="[('id','in',parent.grade_ids)]" />
								<field name="department_id" />
							</tree>
						</field>
					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers"
							groups="base.group_user" />
						<field name="message_ids" widget="mail_thread" />
					</div>
				</form>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_hr_job_create">
			<field name="name">إحداث وظائف</field>
			<field name="res_model">hr.job.create</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="context">{'readonly_by_pass': True}</field>
		</record>
		<menuitem id="hr_job_create_menu" name="إحداث وظائف"
			sequence="10" parent="hr_root_job" action="action_hr_job_create" />

		<!-- تعديل وظائف -->

		<record model="ir.ui.view" id="hr_job_update_tree">
			<field name="name">hr.job.update.tree</field>
			<field name="model">hr.job.update</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="تعديل وظائف">
					<field name="name" />
					<field name="speech_number" />
					<field name="speech_date" />
					<field name="speech_picture" />
				</tree>
			</field>
		</record>
		<record model="ir.ui.view" id="hr_job_update_form">
			<field name="name">hr.job.update.form</field>
			<field name="model">hr.job.update</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="تعديل وظائف">
					<header>
						<button name="action_waiting" string="إرسال للإعتماد" type="object"
							states="new" />
						<button name="action_done" string="إعتماد" type="object"
							states="waiting" />
						<button name="action_refuse" string="رفض" type="object"
							states="waiting" />
						<field name="state" widget="statusbar" statusbar_visible="new,waiting,done" />
					</header>
					<sheet>
						<group col="4">
							<field name="name" />
							<field name="speech_number" />
							<field name="speech_date" />
							<field name="speech_picture" />
						</group>

						<field name="job_update_ids" string=" تحوير‬  وظائف">
							<tree editable="bottom">
								 <field name="job_id" domain="[('state','=','unoccupied')]" />
								<field name="new_name" />
								<field name="type_id" />
								<field name="department_id" />
								<field name="grade_id" />
							</tree>
						</field>
					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers"
							groups="base.group_user" />
						<field name="message_ids" widget="mail_thread" />
					</div>
				</form>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_hr_job_update">
			<field name="name">تحوير‬  وظائف</field>
			<field name="res_model">hr.job.update</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="context">{'readonly_by_pass': True}</field>
		</record>
		<menuitem id="hr_job_update_menu" name="تحوير‬  وظائف"
			sequence="30" parent="hr_root_job" action="action_hr_job_update" />

		<!-- نقل وظائف -->

		<record model="ir.ui.view" id="hr_job_move_grade_tree">
			<field name="name">hr.job.move.grade.tree</field>
			<field name="model">hr.job.move.grade</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="نقل وظائف">
					<field name="name" />
					<field name="speech_number" />
					<field name="speech_date" />
					<field name="speech_picture" />
				</tree>
			</field>
		</record>

		<record model="ir.ui.view" id="hr_job_move_grade_form">
			<field name="name">hr.job.move.grade.form</field>
			<field name="model">hr.job.move.grade</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="نقل وظائف">
					<header>
						<button name="action_waiting" string="إرسال للإعتماد" type="object"
							states="new" />
						<button name="action_done" string="إعتماد" type="object"
							states="waiting" />
						<button name="action_refuse" string="رفض" type="object"
							states="waiting" />
						<field name="state" widget="statusbar" statusbar_visible="new,waiting,done" />
					</header>
					<sheet>
						<group col="4">
							<field name="name" />
							<field name="speech_number" />
							<field name="speech_date" />
							<field name="speech_picture" />
						</group>
						<field name="job_grade_ids" string=" نقل وظائف">
							<tree editable="bottom">
								<field name="job_id"  domain="[('state','=','unoccupied')]"/>
								<field name="type_id" />
								<field name="department_id" />
								<field name="grade_id" />
								<field name="New_department_id" />
							</tree>
						</field>
					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers"
							groups="base.group_user" />
						<field name="message_ids" widget="mail_thread" />
					</div>
				</form>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_hr_job_move_grade">
			<field name="name">نقل وظائف</field>
			<field name="res_model">hr.job.move.grade</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="context">{'readonly_by_pass': True}</field>
		</record>
		<menuitem id="hr_job_move_grade_menu" name="نقل وظائف"
			sequence="25" parent="hr_root_job" action="action_hr_job_move_grade" />

		<!-- رفع أو خفض وظائف -->

		<record model="ir.ui.view" id="hr_job_move_department_tree">
			<field name="name">hr.job.move.department.tree</field>
			<field name="model">hr.job.move.department</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="رفع أو خفض وظائف">
					<field name="name" />
					<field name="speech_number" />
					<field name="speech_date" />
					<field name="speech_picture" />
				</tree>
			</field>
		</record>
		<record model="ir.ui.view" id="hr_job_move_department_form">
			<field name="name">hr.job.move.department.form</field>
			<field name="model">hr.job.move.department</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="رفع أو خفض وظائف">
					<header>
						<button name="action_waiting" string="إرسال للإعتماد" type="object"
							states="new" />
						<button name="action_done" string="إعتماد" type="object"
							states="waiting" />
						<button name="action_refuse" string="رفض" type="object"
							states="waiting" />
						<field name="state" widget="statusbar" statusbar_visible="new,waiting,done" />
					</header>
					<sheet>
						<group col="4">
							<field name="name" />
							<field name="speech_number" />
							<field name="speech_date" />
							<field name="speech_picture" />
						</group>
						<field name="job_movement_ids" string=" الوظائف">
							<tree editable="bottom">
								<field name="job_id" domain="[('state','=','unoccupied')]"/>
								<field name="type_id" />
								<field name="department_id" />
								<field name="grade_id" />
								<field name="new_grade_id" />
							</tree>
						</field>
					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers"
							groups="base.group_user" />
						<field name="message_ids" widget="mail_thread" />
					</div>
				</form>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_hr_job_move_department">
			<field name="name">رفع أو خفض وظائف</field>
			<field name="res_model">hr.job.move.department</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="context">{'readonly_by_pass': True}</field>
		</record>
		<menuitem id="hr_job_move_department_menu" name="رفع أو خفض وظائف"
			sequence="20" parent="hr_root_job" action="action_hr_job_move_department" />



		<!-- إلغاء وظائف -->
		<record model="ir.ui.view" id="hr_job_cancel_tree">
			<field name="name">hr.job.cancel.tree</field>
			<field name="model">hr.job.cancel</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="إلغاء وظائف">
					<field name="name" />
					<field name="speech_number" />
					<field name="speech_date" />
					<field name="speech_picture" />
				</tree>
			</field>
		</record>
		<record model="ir.ui.view" id="hr_job_cancel_form">
			<field name="name">hr.job.cancel.form</field>
			<field name="model">hr.job.cancel</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="إلغاء وظائف">
					<header>
						<button name="action_waiting" string="إرسال للإعتماد" type="object"
							states="new" />
						<button name="action_done" string="إعتماد" type="object"
							states="waiting" />
						<button name="action_refuse" string="رفض" type="object"
							states="waiting" />
						<field name="state" widget="statusbar" statusbar_visible="new,waiting,done" />
					</header>
					<sheet>
						<group col="4">
							<field name="name" />
							<field name="speech_number" />
							<field name="speech_date" />
							<field name="speech_picture" />
						</group>
						<field name="job_cancel_ids" string="إلغاء وظائف">
							<tree editable="bottom">
								<field name="job_id" domain="[('state','=','unoccupied')]" />
								<field name="type_id" />
								<field name="department_id" />
								<field name="grade_id" />
							</tree>
						</field>
					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers"
							groups="base.group_user" />
						<field name="message_ids" widget="mail_thread" />
					</div>
				</form>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_hr_job_cancel">
			<field name="name">إلغاء وظائف</field>
			<field name="res_model">hr.job.cancel</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="context">{'readonly_by_pass': True}</field>
		</record>
		<menuitem id="hr_job_cancel_menu" name="إلغاء وظائف"
			sequence="15" parent="hr_root_job" action="action_hr_job_cancel" />


		<!-- حجز وظيفة -->
		<!-- <record model="ir.ui.view" id="hr_job_reservation_tree"> <field name="name">hr.job.reservation</field> 
			<field name="model">hr.job.reservation</field> <field name="type">tree</field> 
			<field name="arch" type="xml"> <tree string="حجز وظيفة"> <field name="employee" 
			/> </tree> </field> </record> -->
		<record model="ir.ui.view" id="hr_job_reservation_form">
			<field name="name">hr.job.reservation.form</field>
			<field name="model">hr.job.reservation</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="حجز وظيفة">
					<sheet>
						<group col="2">
							<field name="employee" domain="[('state','=','done'),('job_id','=',False)]" />
						</group>
					</sheet>
					<button name="action_job_reservation_confirm" string="موافق"
						type="object" groups="smart_hr.group_job_managmenet" />
				</form>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_hr_job_reservation">
			<field name="name">حجز وظيفة</field>
			<field name="res_model">hr.job.reservation</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>

	</data>
</openerp>