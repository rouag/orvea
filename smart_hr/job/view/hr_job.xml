<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>

		<!-- الوظائف -->

		<record model="ir.ui.view" id="hr_job_tree_view">
			<field name="name">hr.job.tree</field>
			<field name="model">hr.job</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="الوظائف" create='0' edit='0' delete='0'
					duplicate='0'>
					<field name="name" string="المسمى الوظيفي" />
					<field name="job_name_code" string="الرمز" />
					<field name="number" string="رقم الوظيفة" />
					<field name="type_id" />
					<field name="department_id" string="مقر الوظيفة" />
					<field name="grade_id" />
					<field name="create_date" />
					<field name="write_date" string="تاريخ حالة الوظيفة" />
					<field name="occupied_date" />
					<field name="state" />
					<field name="category" />
					<field name="creation_source" />


				</tree>
			</field>
		</record>

		<record model="ir.ui.view" id="hr_job_form_view">
			<field name="name">hr.job.form</field>
			<field name="model">hr.job</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="الوظائف" create="0" edit="0" delete="0">
					<field name="is_occupied_compute" invisible="1" />
					<header>
						<button name="action_job_reserve" string="حجز الوظيفة"
							type="object" groups="smart_hr.group_reserve_job"
							attrs="{'invisible': [('state','!=', 'unoccupied')]}" />

						<button name="action_job_unreserve" string="فك حجز الوظيفة"
							type="object" groups="smart_hr.group_reserve_job" attrs="{'invisible': [('state','!=','reserved')]}"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />

						<field name="state" widget="statusbar"
							statusbar_visible="unoccupied,occupied,reserved,cancel" />
					</header>
					<sheet>
						<group col="2">
							<group>
								<field name="name" string="المسمى الوظيفي" />
								<field name="employee" attrs="{'invisible': [('state','!=', 'occupied')]}" />
								<field name="general_id" />
								<field name="specific_id" />
								<field name="serie_id" />
								<field name="create_date" />
								<field name="write_date" />
							</group>
							<group>
								<field name="number" />
								<field name="name_number" />
								<field name="type_id" string="نوع السلم" />
								<field name="grade_id" />
								<field name="department_id" string="مقر الوظيفة" />
								<field name="activity_type" />
							</group>
						</group>
						<notebook>
							<page string="سجل الاجرا ءات">
								<field name="history_ids" nolabel="1">
									<tree>
										<field name="action" />
										<field name="action_date" />
										<field name="description" />
									</tree>
								</field>
							</page>
						</notebook>
					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers"
							groups="base.group_user" />
						<field name="message_ids" widget="mail_thread" />
					</div>
				</form>
			</field>
		</record>

		<record id="hr_job_search_view" model="ir.ui.view">
			<field name="name">hr.job.search</field>
			<field name="model">hr.job</field>
			<field name="arch" type="xml">
				<search string="الوظائف">
					<field name="number" />
					<field name="name" string="المسمى الوظيفي" />
					<filter string="الوظائف الشاغرة" name="unoccupied_jobs"
						domain="[('state','=','unoccupied')]" />
					<filter string="الوظائف المشغولة" name="occupied_jobs"
						domain="[('state','=','occupied')]" />
					<filter string="الوظائف الملغاة" name="cancel"
						domain="[('state','=','cancel')]" />
					<filter string="الوظائف المحجوزة" name="reserved"
						domain="[('state','=','reserved')]" />
					<separator />
					<filter string="معلنة" name="announced" domain="[('state','=','not_fount')]" />
					<separator />
					<filter string="نشطة" name="active_jobs" domain="[('state','!=','cancel')]" />
					<filter string="غير نشطة" name="inactive_jobs" domain="[('state','=','cancel')]" />
					<separator />
					<filter string="مشغولة بالترقية لها" name="occupied_promotion"
						domain="[('category','=','occupied_promotion')]" />
					<filter string="مشغولة بالنقل إليها" name="occupied_transfer"
						domain="[('category','=','occupied_transfer')]" />
					<filter string="مشغولة بالتعيين عليها" name="occupied_appoint"
						domain="[('category','=','occupied_appoint')]" />
					<filter string="شاغرة بترقية شاغلها" name="unoccupied_promotion"
						domain="[('category','=','unoccupied_promotion')]" />
					<filter string="شاغرة بنقل شاغلها" name="unooccupied_transfer"
						domain="[('category','=','unooccupied_transfer')]" />
					<filter string="شاغرة بطي قيد شاغلها" name="unooccupied_appoint"
						domain="[('category','=','unooccupied_termination')]" />
					<field name="type_id" string="نوع السلم" />
					<field name="grade_id" string="المرتبة" />
					<field name="department_id" string="مقر الوظيفة" />
					<group expand="0" string="تجميع حسب...">
						<filter name="state" string="الحالة" domain="[]"
							context="{'group_by':'state'}" />
						<filter name="type_id" string="نوع السلم" domain="[]"
							context="{'group_by':'type_id'}" />
						<filter name="grade_id" string="المرتبة" domain="[]"
							context="{'group_by':'grade_id'}" />
						<filter name="department_id" string="مقر الوظيفة" domain="[]"
							context="{'group_by':'department_id'}" />
					</group>
				</search>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_hr_job">
			<field name="name">الوظائف</field>
			<field name="res_model">hr.job</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="context">{'search_default_active_jobs':1}
			</field>
		</record>
		<record id="action_hr_job_tree" model="ir.actions.act_window.view">
			<field name="view_mode">tree</field>
			<field name="view_id" ref="hr_job_tree_view" />
			<field name="act_window_id" ref="action_hr_job" />
		</record>

		<record id="action_hr_job_form" model="ir.actions.act_window.view">
			<field name="view_mode">form</field>
			<field name="view_id" ref="hr_job_form_view" />
			<field name="act_window_id" ref="action_hr_job" />
		</record>

		<menuitem id="hr_job_menu" name="الوظائف" sequence="5"
			parent="hr_root_job" action="action_hr_job" />


		<!-- إحداث وظائف -->

		<record model="ir.ui.view" id="hr_job_create_tree">
			<field name="name">hr.job.create.tree</field>
			<field name="model">hr.job.create</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="إحداث وظائف" delete='0'>
					<field name="name" string="مسمى الطلب" />
					<field name="speech_number" />
					<field name="speech_date" />
					<field name="state" string="الحالة" />
				</tree>
			</field>
		</record>
		<record model="ir.ui.view" id="hr_job_create_form">
			<field name="name">hr.job.create.form</field>
			<field name="model">hr.job.create</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="إحداث وظائف">
					<field name="grade_ids" invisible="1" />
					<header>
						<button name="action_waiting" string="إرسال للإعتماد" type="object"
							groups="smart_hr.group_job_managment" states="new"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="action_budget" string="موافقة" type="object"
							groups="smart_hr.group_new_job_confirmation" states="waiting"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="%(action_hr_refuse_wizard)d" string="رفض"
							type="action" groups="smart_hr.group_new_job_confirmation"
							states="waiting" confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="action_hrm" string="موافقة" type="object"
							groups="smart_hr.group_budget_managment" states="budget_external"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="%(action_hr_refuse_wizard)d" string="رفض"
							type="action" groups="smart_hr.group_budget_managment" states="budget_external" />

						<button name="action_done" string="موافقة" type="object"
							groups="smart_hr.group_job_external_managment" states="hrm" />

						<field name="state" widget="statusbar"
							statusbar_visible="new,waiting,budget_external,hrm,done,refused" />
					</header>
					<sheet string="إحداث وظائف">
						<group col="2">
							<field name="create_date" string="تاريخ الطلب" readonly="1" />
						</group>
						<group col="2">
							<group>
								<field name="employee_id"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
								<field name="name" />
								<field name="speech_number"
									attrs="{'invisible':[('state', 'not in', ['budget_external','hrm','done'])],'required':[('state','=','budget_external')], 'readonly':[('state', 'in', ['hrm','done'])]}" />
								<field name="speech_date"
									attrs="{'invisible':[('state', 'not in', ['budget_external','hrm','done'])],'required':[('state','=','budget_external')], 'readonly':[('state', 'in', ['hrm','done'])]}" />
								<field name="speech_file" filename="speech_file_name"
									attrs="{'invisible':[('state', 'not in', ['budget_external','hrm','done'])],'required':[('state','=','budget_external')], 'readonly':[('state', 'in', ['hrm','done'])]}" />
							</group>
							<group>
								<field name="decision_number"
									attrs="{'invisible':[('state', 'in', ['new','waiting','budget_external'])],'required':[('state','=','hrm')], 'readonly':[('state','!=', 'hrm')]}" />
								<field name="decision_date"
									attrs="{'invisible':[('state', 'in', ['new','waiting','budget_external'])],'required':[('state','=','hrm')], 'readonly':[('state','!=', 'hrm')]}" />
								<field name="decision_file" filename="decision_file_name"
									attrs="{'invisible':[('state', 'in', ['new','waiting','budget_external'])],'required':[('state','=','hrm')], 'readonly':[('state','!=', 'hrm')]}" />
								<field name="fiscal_year" />
							</group>
						</group>
						<group>
						<field name="members_job"/>
						</group>
						<group col="6">
							<field name="general_id" domain="[('group_type', '=', 'general')]"
								required="1" attrs="{'readonly':[('state', '!=', 'new')]}"
								options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
							<field name="specific_id" required="1"
								options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}"
								domain="[('parent_id', '=', general_id),('group_type', '=', 'spicific')]"
								attrs="{'readonly':[('state', '!=', 'new')]}" />
							<field name="serie_id" required="1"
								options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}"
								domain="[('parent_id', '=',specific_id), ('group_type', '=', 'serie')]"
								attrs="{'readonly':[('state', '!=', 'new')]}" />
						</group>

						<field name="line_ids" string=" الوظائف"
							attrs="{'readonly':[('state', '!=', 'new')]}">
							<tree editable="bottom">
								<field name="job_create_id" invisible="1" />
								<field name="name" options='{"no_open": True, "no_create": True}'
									string="المسمى الوظيفي" />
								<field name="job_number" />
								<field name="number" readonly="1" />
								<field name="type_id"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
								<field name="department_id"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
								<field name="grade_id"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
								<field name="activity_type"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
							</tree>
						</field>
					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers"
							groups="base.group_user" />
						<field name="message_ids" widget="mail_thread" />
					</div>
					<field name="decision_file_name" invisible="1" />
					<field name="speech_file_name" invisible="1" />
					<field name="draft_budget_name" invisible="1" />

				</form>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_hr_job_create">
			<field name="name">إحداث وظائف</field>
			<field name="res_model">hr.job.create</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="context">{'readonly_by_pass': True}</field>
		</record>

		<menuitem id="hr_job_create_menu" name="إحداث وظائف"
			sequence="10" parent="hr_root_job" action="action_hr_job_create" />


		<!-- سلخ من جهة -->
		<record model="ir.ui.view" id="hr_job_strip_from_tree">
			<field name="name">hr.job.strip.from.tree</field>
			<field name="model">hr.job.strip.from</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="سلخ من جهة" delete='0'>
					<field name="employee_id" />
					<field name="speech_number" />
					<field name="speech_date" />
					<field name="state" />
				</tree>
			</field>
		</record>
		<record model="ir.ui.view" id="hr_job_strip_from_form">
			<field name="name">hr.job.strip.from.form</field>
			<field name="model">hr.job.strip.from</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="سلخ من جهة">
					<field name="grade_ids" invisible="1" />
					<header>
						<button name="action_waiting" string="إرسال للإعتماد" type="object"
							groups="smart_hr.group_job_managment" states="new"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="action_hrm1" string="موافقة" type="object"
							groups="smart_hr.group_strip_from_job" states="waiting"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />



						<button name="%(action_hr_refuse_wizard)d" string="رفض"
							type="action" groups="smart_hr.group_strip_from_job" states="waiting"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />


						<button name="action_communication" string="موافقة" type="object"
							groups="smart_hr.group_hr_personnel_officer_jobs" states="hrm1"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />

						<button name="action_external" string="موافقة" type="object"
							groups="smart_hr.group_communication_managment" states="communication"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="%(action_hr_refuse_wizard)d" string="رفض"
							type="action" groups="smart_hr.group_communication_managment"
							states="communication" confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />

						<button name="action_hrm2" string="موافقة" type="object"
							groups="smart_hr.group_job_external_managment" states="external" />
						<button name="%(action_hr_refuse_wizard)d" string="رفض"
							type="action" groups="smart_hr.group_job_external_managment"
							states="external" confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />

						<button name="action_done" string="سلخ الوظائف" type="object"
							groups="smart_hr.group_hr_personnel_officer_jobs" states="hrm2" />

						<field name="state" widget="statusbar"
							statusbar_visible="new,waiting,hrm1,communication,external,hrm2,done,refused" />
					</header>
					<sheet string="سلخ من جهة">
						<group col="2">
							<field name="create_date" string="تاريخ الطلب" readonly="1" />
						</group>
						<group col="2">
							<group>

								<field name="employee_id"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
								<field name="fiscal_year" />
								<field name="source_location"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
								<field name="out_speech_number"
									attrs="{'invisible':[('state', 'not in', ['communication','external','hrm2','done'])],'required':[('state','=','communication')], 'readonly':[('state', 'in', ['external','hrm2','done'])]}" />
								<field name="out_speech_date"
									attrs="{'invisible':[('state', 'not in', ['communication','external','hrm2','done'])],'required':[('state','=','communication')], 'readonly':[('state', 'in', ['external','hrm2','done'])]}" />
								<field name="out_speech_file" filename="in_speech_file_name"
									attrs="{'invisible':[('state', 'not in', ['communication','external','hrm2','done'])],'required':[('state','=','communication')], 'readonly':[('state', 'in', ['external','hrm2','done'])]}" />
							</group>

							<group>
								<!-- <field name="decision_number" /> <field name="decision_date" 
									/> <field name="decision_file" /> -->
								<field name="speech_number" filename="speech_file_name"
									attrs="{'invisible':[('state', 'not in', ['hrm1','communication','external','hrm2','done'])],'required':[('state','=','hrm1')], 'readonly':[('state', 'in', ['communication','external','hrm2','done'])]}" />
								<field name="speech_date"
									attrs="{'invisible':[('state', 'not in', ['hrm1','communication','external','hrm2','done'])],'required':[('state','=','hrm1')], 'readonly':[('state', 'in', ['communication','external','hrm2','done'])]}" />
								<field name="speech_file"
									attrs="{'invisible':[('state', 'not in', ['hrm1','communication','external','hrm2','done'])],'required':[('state','=','hrm1')], 'readonly':[('state', 'in', ['communication','external','hrm2','done'])]}" />

								<field name="in_speech_number"
									attrs="{'invisible':[('state', 'not in', ['external','hrm2','done'])],'required':[('state','=','external')], 'readonly':[('state', 'in', ['hrm2','done'])]}" />
								<field name="in_speech_date"
									attrs="{'invisible':[('state', 'not in', ['external','hrm2','done'])],'required':[('state','=','external')], 'readonly':[('state', 'in', ['hrm2','done'])]}" />
								<field name="in_speech_file" filename="in_speech_file_name"
									attrs="{'invisible':[('state', 'not in', ['external','hrm2','done'])],'required':[('state','=','external')], 'readonly':[('state', 'in', ['hrm2','done'])]}" />

							</group>

						</group>
						<group col="6">
							<field name="general_id" domain="[('group_type', '=', 'general')]"
								required="1" attrs="{'readonly':[('state', '!=', 'new')]}"
								options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
							<field name="specific_id" required="1"
								domain="[('parent_id', '=', general_id),('group_type', '=', 'spicific')]"
								attrs="{'readonly':[('state', '!=', 'new')]}"
								options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
							<field name="serie_id" required="1"
								domain="[('parent_id', '=',specific_id), ('group_type', '=', 'serie')]"
								attrs="{'readonly':[('state', '!=', 'new')]}"
								options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
						</group>

						<field name="line_ids" string=" الوظائف"
							attrs="{'readonly':[('state', '!=', 'new')]}">
							<tree editable="bottom">
								<field name="name" options='{"no_open": True, "no_create": True}' />
								<field name="number" readonly="1" />
								<field name="job_name_code" string="الرمز" />
								<field name="type_id"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
								<field name="department_id"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
								<field name="grade_id" options='{"no_open": True, "no_create": True}' />
								<field name="job_number" />

							</tree>
						</field>
					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers"
							groups="base.group_user" />
						<field name="message_ids" widget="mail_thread" />
					</div>
				</form>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_hr_job_strip_from">
			<field name="name">سلخ من جهة</field>
			<field name="res_model">hr.job.strip.from</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="context">{'readonly_by_pass': True}
			</field>
		</record>
		<menuitem id="hr_job_strip_from_menu" name="سلخ من جهة "
			sequence="15" parent="hr_root_job" action="action_hr_job_strip_from" />

		<!-- سلخ وظيفة إلى جهة -->
		<record model="ir.ui.view" id="hr_job_strip_to_tree">
			<field name="name">hr.job.strip.to.tree</field>
			<field name="model">hr.job.strip.to</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="سلخ وظائف إلى جهة">
					<field name="employee_id" />
					<field name="speech_number" />
					<field name="speech_date" />
					<field name="speech_file" />
				</tree>
			</field>
		</record>
		<record model="ir.ui.view" id="hr_job_strip_to_form">
			<field name="name">hr.job.strip.to.form</field>
			<field name="model">hr.job.strip.to</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="سلخ وظائف إلى جهة">
					<header>
						<button name="action_waiting" string="إرسال للإعتماد" type="object"
							groups="smart_hr.group_job_managment" states="new"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="action_hrm1" string="موافقة" type="object"
							groups="smart_hr.group_strip_from_job" states="waiting"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />

						<button name="%(action_hr_refuse_wizard)d" string="رفض"
							type="action" groups="smart_hr.group_strip_from_job" states="waiting"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />


						<button name="action_communication" string="موافقة" type="object"
							groups="smart_hr.group_hr_personnel_officer_jobs" states="hrm1"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />


						<button name="action_hrm2" string="موافقة" type="object"
							groups="smart_hr.group_budget_communication" states="communication_external" />
						<button name="%(action_hr_refuse_wizard)d" string="رفض"
							type="action" groups="smart_hr.group_budget_communication"
							states="communication_external" confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />

						<button name="action_done" string="إلغاء الوظائف" type="object"
							groups="smart_hr.group_hr_personnel_officer_jobs" states="hrm2" />

						<field name="state" widget="statusbar"
							statusbar_visible="new,waiting,hrm1,communication_external,hrm2,done,refused" />
					</header>
					<sheet>
						<group col="2">
							<field name="create_date" string="تاريخ الطلب" readonly="1" />
						</group>
						<group col="2">
							<group>
								<field name="employee_id"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
								<field name="speech_number"
									attrs="{'invisible':[('state', 'not in', ['hrm1','communication_external','hrm2','done'])],'required':[('state','=','hrm1')], 'readonly':[('state', '!=', 'hrm1')]}" />
								<field name="speech_date"
									attrs="{'invisible':[('state', 'not in', ['hrm1','communication_external','hrm2','done'])],'required':[('state','=','hrm1')], 'readonly':[('state', '!=', 'hrm1')]}" />
								<field name="speech_file" filename="speech_file_name"
									attrs="{'invisible':[('state', 'not in', ['hrm1','communication_external','hrm2','done'])],'required':[('state','=','hrm1')], 'readonly':[('state', '!=', 'hrm1')]}" />

								<field name="decision_number"
									attrs="{'invisible':[('state', 'in', ['new','waiting'])],'required':[('state','=','hrm1')], 'readonly':[('state','!=', 'hrm1')]}" />
								<field name="decision_date"
									attrs="{'invisible':[('state', 'in', ['new','waiting'])],'required':[('state','=','hrm1')], 'readonly':[('state','!=', 'hrm1')]}" />
								<field name="decision_file"
									attrs="{'invisible':[('state', 'in', ['new','waiting'])],'required':[('state','=','hrm1')], 'readonly':[('state','!=', 'hrm1')]}" />								<!-- <field name="out_speech_number" attrs="{'invisible':[('state', 'not 
									in', ['communication','external','hrm2','done'])],'required':[('state','=','communication')], 
									'readonly':[('state', 'in', ['external','hrm2','done'])]}" /> <field name="out_speech_date" 
									attrs="{'invisible':[('state', 'not in', ['communication','external','hrm2','done'])],'required':[('state','=','communication')], 
									'readonly':[('state', 'in', ['external','hrm2','done'])]}" /> <field name="out_speech_file" 
									filename="out_speech_file_name" attrs="{'invisible':[('state', 'not in', 
									['communication','external','hrm2','done'])],'required':[('state','=','communication')], 
									'readonly':[('state', 'in', ['external','hrm2','done'])]}" /> -->
							</group>
							<group>
								<field name="destination_location" />
								<field name="in_speech_number"
									attrs="{'invisible':[('state', 'not in', ['communication_external','hrm2','done'])],'required':[('state','=','communication_external')], 'readonly':[('state', 'in', ['hrm2','done'])]}" />
								<field name="in_speech_date"
									attrs="{'invisible':[('state', 'not in', ['communication_external','hrm2','done'])],'required':[('state','=','communication_external')], 'readonly':[('state', 'in', ['hrm2','done'])]}" />
								<field name="in_speech_file" filename="in_speech_file_name"
									attrs="{'invisible':[('state', 'not in', ['communication_external','hrm2','done'])],'required':[('state','=','communication_external')], 'readonly':[('state', 'in', ['hrm2','done'])]}" />
								<field name="decision_col_const_number"
									attrs="{'invisible':[('state', 'not in', ['hrm2','done'])], 'readonly':[('state', '!=', 'hrm2')], 'required':[('state','=','hrm2')]}" />
								<field name="decision_col_const_date"
									attrs="{'invisible':[('state', 'not in', ['hrm2','done'])], 'readonly':[('state', '!=', 'hrm2')], 'required':[('state','=','hrm2')]}" />
								<field name="decision_col_const_file"
									attrs="{'invisible':[('state', 'not in', ['hrm2','done'])], 'readonly':[('state', '!=', 'hrm2')], 'required':[('state','=','hrm2')]}" />
							</group>
						</group>
						<field name="line_ids" string="إلغاء وظائف"
							attrs="{'readonly':[('state', '!=', 'new')]}">
							<tree editable="bottom">
								<field name="job_id" domain="[('state','=','unoccupied')]"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
								<field name="job_number" invisible="1" />

								<field name="job_name_code" string="الرمز" />
								<field name="type_id" readonly="1" />
								<field name="department_id"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
								<field name="grade_id"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
							</tree>
						</field>
					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers"
							groups="base.group_user" />
						<field name="message_ids" widget="mail_thread" />
					</div>
					<field name="in_speech_file_name" invisible="1" />
					<field name="out_speech_file_name" invisible="1" />
					<field name="speech_file_name" invisible="1" />
				</form>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_hr_job_strip_to">
			<field name="name">سلخ وظائف إلى جهة</field>
			<field name="res_model">hr.job.strip.to</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="context">{'readonly_by_pass': True}</field>
		</record>
		<menuitem id="hr_job_strip_to_menu" name="سلخ إلى جهة"
			sequence="16" parent="hr_root_job" action="action_hr_job_strip_to" />



		<!-- تحوير‬ وظائف -->
		<record model="ir.ui.view" id="hr_job_update_tree">
			<field name="name">hr.job.update.tree</field>
			<field name="model">hr.job.update</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="تعديل وظائف">
					<field name="employee_id" />
					<field name="out_speech_number" />
					<field name="out_speech_date" />
					<field name="out_speech_file" />
				</tree>
			</field>
		</record>
		<record model="ir.ui.view" id="hr_job_update_form">
			<field name="name">hr.job.update.form</field>
			<field name="model">hr.job.update</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="تحوير‬ وظائف">
					<header>

						<button name="action_waiting" string="إرسال للإعتماد" type="object"
							groups="smart_hr.group_job_managment" states="new"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="action_hrm1" string="موافقة" type="object"
							groups="smart_hr.group_update_job" states="waiting"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="%(action_hr_refuse_wizard)d" string="رفض"
							type="action" groups="smart_hr.group_update_job" states="waiting"
							context="{'refused_from_state':'waiting'}" confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="action_budget" string="حجز الوظائف" type="object"
							groups="smart_hr.group_hr_personnel_officer_jobs" states="hrm1" />

						<button name="action_hrm2" string="موافقة" type="object"
							groups="smart_hr.group_budget_civil_service" states="budget_external" />
						<button name="action_communication" string="رفض" type="object"
							groups="smart_hr.group_budget_civil_service" states="budget_external"
							context="{'refused_from_state':'budget_external'}" confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />

						<button name="action_job_unreserve" string="فك حجز الوظائف"
							type="object" groups="smart_hr.group_hr_personnel_officer_jobs"
							states="hrm2" confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<field name="state" widget="statusbar"
							statusbar_visible="new,waiting,hrm1,budget_external,hrm2,done,refused" />
					</header>
					<sheet>
						<group col="2">
							<field name="create_date" string="تاريخ الطلب" readonly="1" />
							<field name="employee_id"
								options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
						</group>

						<group>
							<group>
								<field name="decision_number"
									attrs="{'invisible':[('state', 'in', ['new','waiting'])],'required':[('state','=','hrm1')], 'readonly':[('state','!=', 'hrm1')]}" />
								<field name="decision_date"
									attrs="{'invisible':[('state', 'in', ['new','waiting'])],'required':[('state','=','hrm1')], 'readonly':[('state','!=', 'hrm1')]}" />
							</group>
							<group />
						</group>
						<group>
							<group>

								<field name="out_speech_number"
									attrs="{'invisible':[('state', 'not in', ['hrm1','budget_external', 'hrm2', 'done'])],'readonly':[('state', 'in', ['budget_external', 'hrm2', 'done'])],'required':[('state','=','hrm1')]}" />
								<field name="out_speech_date"
									attrs="{'invisible':[('state', 'not in', ['hrm1','budget_external', 'hrm2', 'done'])],'readonly':[('state', 'in', ['budget_external', 'hrm2', 'done'])],'required':[('state','=','hrm1')]}" />
								<field name="out_speech_file" filename="outspeech_file_name"
									attrs="{'invisible':[('state', 'not in', ['hrm1','budget_external', 'hrm2', 'done'])],'readonly':[('state', 'in', ['budget_external', 'hrm2', 'done'])],'required':[('state','=','hrm1')]}" />
							</group>
							<group>
								<field name="in_speech_number"
									attrs="{'invisible':[('state', 'not in', ['hrm1','budget_external', 'hrm2', 'done'])],'readonly':[('state', 'in', ['budget_external', 'hrm2', 'done'])],'required':[('state','=','hrm1')]}" />
								<field name="in_speech_date"
									attrs="{'invisible':[('state', 'not in', ['hrm1','budget_external', 'hrm2', 'done'])],'readonly':[('state', 'in', ['budget_external', 'hrm2', 'done'])],'required':[('state','=','hrm1')]}" />
								<field name="in_speech_file" filename="in_speech_file_name"
									attrs="{'invisible':[('state', 'not in', ['hrm1','budget_external', 'hrm2', 'done'])],'readonly':[('state', 'in', ['budget_external', 'hrm2', 'done'])],'required':[('state','=','hrm1')]}" />
							</group>
						</group>

						<field name="job_update_ids" string=" تحوير‬  وظائف"
							attrs="{'readonly':[('state', '!=', 'new')]}">
							<tree editable="bottom">
								<field name="job_id"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
								<field name="job_number" invisible="1" />
								<field name="department_id" />
								<field name="grade_id" />
								<field name="old_name" />
								<field name="old_type_id" />
								<field name="new_job_number" />
								<field name="new_name" />
								<field name="new_type_id" />
							</tree>
						</field>
					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers"
							groups="base.group_user" />
						<field name="message_ids" widget="mail_thread" />
					</div>
					<field name="in_speech_file_name" invisible="1" />
					<field name="out_speech_file_name" invisible="1" />
				</form>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_hr_job_update">
			<field name="name">تحوير‬ وظائف</field>
			<field name="res_model">hr.job.update</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="context">{'readonly_by_pass': True}</field>
		</record>
		<menuitem id="hr_job_update_menu" name="تحوير‬  وظائف"
			sequence="11" parent="hr_root_job" action="action_hr_job_update" />

		<!-- نقل وظائف -->

		<record model="ir.ui.view" id="hr_job_move_dep_tree">
			<field name="name">hr.job.move.department.tree</field>
			<field name="model">hr.job.move.department</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="نقل وظائف">
					<field name="employee_id" />
					<field name="out_speech_number" />
					<field name="out_speech_date" />
					<field name="out_speech_file" />
				</tree>
			</field>
		</record>

		<record model="ir.ui.view" id="hr_job_move_dep_form">
			<field name="name">hr.job.move.department.form</field>
			<field name="model">hr.job.move.department</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="نقل وظائف">
					<header>
						<button name="action_waiting" string="إرسال للإعتماد" type="object"
							groups="smart_hr.group_job_managment" states="new"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="action_hrm1" string="موافقة" type="object"
							groups="smart_hr.group_move_job_department" states="waiting"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="%(action_hr_refuse_wizard)d" string="رفض"
							type="action" groups="smart_hr.group_move_job_department" states="waiting"
							context="{'refused_from_state':'waiting'}" confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="action_budget" string="حجز الوظائف" type="object"
							groups="smart_hr.group_hr_personnel_officer_jobs" states="hrm1" />
						<button name="action_communication" string="موافقة" type="object"
							groups="smart_hr.group_budget_managment" states="budget"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />

						<button name="action_hrm2" string="موافقة" type="object"
							groups="smart_hr.group_budget_comm_service" states="communication_external"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="%(action_hr_refuse_wizard)d" string="رفض"
							type="action" groups="smart_hr.group_budget_comm_service" states="communication_external"
							context="{'refused_from_state':'communication_external'}"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />

						<button name="action_job_unreserve" string="فك حجز الوظيفة"
							type="object" groups="smart_hr.group_hr_personnel_officer_jobs"
							states="hrm2" confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />

						<field name="state" widget="statusbar"
							statusbar_visible="new,waiting,hrm1,budget,communication_external,hrm2,done,refused" />
					</header>
					<sheet>
						<group col="2">
							<field name="create_date" string="تاريخ الطلب" readonly="1" />
						</group>
						<group col="2">
							<group>
								<field name="employee_id"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />

								<field name="out_speech_number"
									attrs="{'invisible':[('state', 'not in', ['budget', 'communication_external', 'hrm2', 'done'])],'readonly':[('state', 'in', ['communication_external', 'hrm2', 'done'])],'required':[('state','=','budget')]}" />
								<field name="out_speech_date"
									attrs="{'invisible':[('state', 'not in', ['budget','communication_external', 'hrm2', 'done'])],'readonly':[('state', 'in', ['communication_external', 'hrm2', 'done'])],'required':[('state','=','budget')]}" />
								<field name="out_speech_file" filename="out_speech_file_name"
									attrs="{'invisible':[('state', 'not in', ['budget','communication_external', 'hrm2', 'done'])],'readonly':[('state', 'in', ['communication_external', 'hrm2', 'done'])],'required':[('state','=','budget')]}" />

							</group>
							<group>
								<field name="move_raison" attrs="{'readonly':[('state', '!=','new')]}" />
								<field name="in_speech_number"
									attrs="{'invisible':[('state', 'not in', ['communication_external', 'hrm2', 'done'])],'readonly':[('state', 'in', [ 'hrm2', 'done'])],'required':[('state','=','communication_external')]}" />
								<field name="in_speech_date"
									attrs="{'invisible':[('state', 'not in', ['communication_external', 'hrm2', 'done'])],'readonly':[('state', 'in', [ 'hrm2', 'done'])],'required':[('state','=','communication_external')]}" />
								<field name="in_speech_file" filename="in_speech_file_name"
									attrs="{'invisible':[('state', 'not in', ['communication_external', 'hrm2', 'done'])],'readonly':[('state', 'in', [ 'hrm2', 'done'])],'required':[('state','=','communication_external')]}" />
							</group>
							<group>
								<field name="decision_number"
									attrs="{'invisible':[('state', 'in', ['new','waiting'])],'required':[('state','=','hrm1')], 'readonly':[('state','!=', 'hrm1')]}" />
								<field name="decision_date"
									attrs="{'invisible':[('state', 'in', ['new','waiting'])],'required':[('state','=','hrm1')], 'readonly':[('state','!=', 'hrm1')]}" />
								<field name="decision_file" filename="decision_file_name"
									attrs="{'invisible':[('state', 'in', ['new','waiting'])],'required':[('state','=','hrm1')], 'readonly':[('state','!=', 'hrm1')]}" />
							</group>
						</group>

						<field name="job_movement_ids" string="نقل وظائف"
							context="{'job_movement_ids': job_movement_ids}" attrs="{'readonly':[('state', '!=', 'new')]}">
							<tree editable="bottom">
								<field name="job_id" domain="[('state','=','unoccupied') ]"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
								<field name="job_number" invisible="1" />
								<field name="job_name_code" />
								<field name="type_id" />
								<field name="grade_id" />
								<field name="department_id" />
								<field name="new_department_id" />
							</tree>
						</field>
					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers"
							groups="base.group_user" />
						<field name="message_ids" widget="mail_thread" />
					</div>
					<field name="in_speech_file_name" invisible="1" />
					<field name="out_speech_file_name" invisible="1" />
				</form>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_hr_job_move_department">
			<field name="name">نقل وظائف</field>
			<field name="res_model">hr.job.move.department</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="context">{'readonly_by_pass': True}</field>
		</record>
		<menuitem id="hr_job_move_grade_menu" name="نقل وظائف"
			sequence="12" parent="hr_root_job" action="action_hr_job_move_department" />

		<!-- رفع وظائف -->

		<record model="ir.ui.view" id="hr_job_scal_up_department_tree">
			<field name="name">hr.job.move.grade.tree</field>
			<field name="model">hr.job.move.grade</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="رفع وظائف">
					<field name="employee_id" />
					<field name="move_date" />
					<field name="fiscal_year" />
					<field name="decision_number" />
					<field name="decision_date" />
					<field name="out_speech_number" />
					<field name="out_speech_date" />
					<field name="in_speech_number" />
					<field name="in_speech_date" />
				</tree>
			</field>
		</record>
		<record model="ir.ui.view" id="hr_job_scal_up_department_form">
			<field name="name">hr.job.move.grade.form</field>
			<field name="model">hr.job.move.grade</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="رفع وظائف">
					<header>

						<button name="action_waiting" string="إرسال للإعتماد" type="object"
							groups="smart_hr.group_job_managment" states="new"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="action_hrm1" string="موافقة" type="object"
							groups="smart_hr.group_move_job_grade" states="waiting"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="%(action_hr_refuse_wizard)d" string="رفض"
							type="action" context="{'refused_from_state':'waiting'}" groups="smart_hr.group_move_job_grade"
							states="waiting" confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="action_budget" string="حجز الوظائف" type="object"
							groups="smart_hr.group_hr_personnel_officer_jobs" states="hrm1" />


						<button name="action_hrm2" string="موافقة" type="object"
							groups="smart_hr.group_budget_managment" states="budget_external" />
						<button name="%(action_hr_refuse_wizard)d" string="رفض"
							type="action" context="{'refused_from_state':'budget_external'}"
							groups="smart_hr.group_budget_managment" states="budget_external"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />

						<button name="action_job_unreserve" string="فك حجز الوظيفة"
							type="object" groups="smart_hr.group_hr_personnel_officer_jobs"
							states="hrm2" confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />

						<field name="state" widget="statusbar"
							statusbar_visible="new,waiting,hrm1,budget_external,hrm2,done,refused" />
					</header>
					<sheet>
						<group col="2">
							<field name="create_date" string="تاريخ الطلب" readonly="1" />
						</group>
						<group col="2">
							<group>
								<field name="employee_id"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
								<field name="move_date" />
								<field name="fiscal_year" />

							</group>
							<group>
								<field name="decision_number"
									attrs="{'invisible':[('state', 'in', ['new','waiting'])],'required':[('state','=','hrm1')], 'readonly':[('state','!=', 'hrm1')]}" />
								<field name="decision_date"
									attrs="{'invisible':[('state', 'in', ['new','waiting'])],'required':[('state','=','hrm1')], 'readonly':[('state','!=', 'hrm1')]}" />
								<field name="decision_file"
									attrs="{'invisible':[('state', 'in', ['new','waiting'])],'required':[('state','=','hrm1')], 'readonly':[('state','!=', 'hrm1')]}" />

								<field name="out_speech_number"
									attrs="{'invisible':[('state', 'not in', ['budget_external', 'hrm2', 'done'])],'readonly':[('state', 'in', [ 'hrm2', 'done'])],'required':[('state','=','budget_external')]}" />
								<field name="out_speech_date"
									attrs="{'invisible':[('state', 'not in', ['budget_external', 'hrm2', 'done'])],'readonly':[('state', 'in', [ 'hrm2', 'done'])],'required':[('state','=','budget_external')]}" />
								<field name="out_speech_file" filename="out_speech_file_name"
									attrs="{'invisible':[('state', 'not in', ['budget_external', 'hrm2', 'done'])],'readonly':[('state', 'in', [ 'hrm2', 'done'])],'required':[('state','=','budget_external')]}" />
								<field name="in_speech_number"
									attrs="{'invisible':[('state', 'not in', ['budget_external', 'hrm2', 'done'])],'readonly':[('state', 'in', [ 'hrm2', 'done'])],'required':[('state','=','budget_external')]}" />
								<field name="in_speech_date"
									attrs="{'invisible':[('state', 'not in', ['budget_external', 'hrm2', 'done'])],'readonly':[('state', 'in', [ 'hrm2', 'done'])],'required':[('state','=','budget_external')]}" />
								<field name="in_speech_file" filename="in_speech_file_name"
									attrs="{'invisible':[('state', 'not in', ['budget_external', 'hrm2', 'done'])],'readonly':[('state', 'in', [ 'hrm2', 'done'])],'required':[('state','=','budget_external')]}" />
							</group>
						</group>
						<field name="job_movement_ids" context="{'operation':'scale_up'}"
							required="True" attrs="{'readonly':[('state', '!=', 'new')]}"
							string=" الوظائف">
							<tree editable="bottom">
								<field name="job_id"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
								<field name="job_number" invisible="1" />

								<field name="job_name_code" />
								<field name="type_id" />
								<field name="department_id" />
								<field name="grade_id" />
								<field name="new_job_name" />
								<field name="new_job_number" />
								<field name="new_department_id" />
								<field name="new_grade_id" />
							</tree>
						</field>
					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers"
							groups="base.group_user" />
						<field name="message_ids" widget="mail_thread" />
					</div>
					<field name="in_speech_file_name" invisible="1" />
					<field name="out_speech_file_name" invisible="1" />
				</form>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_hr_job_scal_up_grade">
			<field name="name">رفع وظائف</field>
			<field name="res_model">hr.job.move.grade</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="context">{'readonly_by_pass': True,
				'default_move_type':'scale_up'}
			</field>
			<field name="domain">[('move_type', '=', 'scale_up')]</field>
		</record>

		<record id="action_hr_job_scal_up_grade_tree" model="ir.actions.act_window.view">
			<field name="view_mode">tree</field>
			<field name="view_id" ref="hr_job_scal_up_department_tree" />
			<field name="act_window_id" ref="action_hr_job_scal_up_grade" />
		</record>

		<record id="action_hr_job_scal_up_grade_form" model="ir.actions.act_window.view">
			<field name="view_mode">form</field>
			<field name="view_id" ref="hr_job_scal_up_department_form" />
			<field name="act_window_id" ref="action_hr_job_scal_up_grade" />
		</record>

		<menuitem id="hr_job_scal_up_department_menu" name="رفع وظائف"
			sequence="13" parent="hr_root_job" action="action_hr_job_scal_up_grade" />

		<!-- خفض وظائف -->

		<record model="ir.ui.view" id="hr_job_scal_down_department_tree">
			<field name="name">hr.job.move.grade.tree</field>
			<field name="model">hr.job.move.grade</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="خفض وظائف">
					<field name="employee_id" />
					<field name="move_date" />
					<field name="fiscal_year" />
					<field name="decision_number" />
					<field name="decision_date" />
					<field name="out_speech_number" />
					<field name="out_speech_date" />
					<field name="in_speech_number" />
					<field name="in_speech_date" />
				</tree>
			</field>
		</record>
		<record model="ir.ui.view" id="hr_job_scal_down_department_form">
			<field name="name">hr.job.move.grade.form</field>
			<field name="model">hr.job.move.grade</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="خفض وظائف">
					<header>
						<button name="action_waiting" string="إرسال للإعتماد" type="object"
							groups="smart_hr.group_job_managment" states="new"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="action_hrm1" string="موافقة" type="object"
							groups="smart_hr.group_move_job_grade" states="waiting"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="%(action_hr_refuse_wizard)d" string="رفض"
							type="action" groups="smart_hr.group_move_job_grade" states="waiting"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />
						<button name="action_budget" string="حجز الوظائف" type="object"
							groups="smart_hr.group_hr_personnel_officer_jobs" states="hrm1" />


						<button name="action_hrm2" string="موافقة" type="object"
							groups="smart_hr.group_budget_managment" states="budget_external" />
						<button name="%(action_hr_refuse_wizard)d" string="رفض"
							type="action" groups="smart_hr.group_budget_managment" states="budget_external"
							confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />

						<button name="action_job_unreserve" string="فك حجز الوظيفة"
							type="object" groups="smart_hr.group_hr_personnel_officer_jobs"
							states="hrm2" confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />

						<field name="state" widget="statusbar"
							statusbar_visible="new,waiting,hrm1,budget_external,hrm2,done,refused" />
					</header>
					<sheet>
						<group col="2">
							<field name="create_date" string="تاريخ الطلب" readonly="1" />
						</group>
						<group col="2">
							<group>
								<field name="employee_id"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
								<field name="move_date" />
								<field name="fiscal_year" />
								<field name="out_speech_number"
									attrs="{'invisible':[('state', 'not in', ['budget_external', 'hrm2', 'done'])],'readonly':[('state', 'in', [ 'hrm2', 'done'])],'required':[('state','=','budget_external')]}" />
								<field name="out_speech_date"
									attrs="{'invisible':[('state', 'not in', ['budget_external', 'hrm2', 'done'])],'readonly':[('state', 'in', [ 'hrm2', 'done'])],'required':[('state','=','budget_external')]}" />
								<field name="out_speech_file" filename="out_speech_file_name"
									attrs="{'invisible':[('state', 'not in', ['budget_external', 'hrm2', 'done'])],'readonly':[('state', 'in', [ 'hrm2', 'done'])],'required':[('state','=','budget_external')]}" />
							</group>
							<group>
								<field name="decision_number"
									attrs="{'invisible':[('state', 'in', ['new','waiting'])],'required':[('state','=','hrm1')], 'readonly':[('state','!=', 'hrm1')]}" />
								<field name="decision_date"
									attrs="{'invisible':[('state', 'in', ['new','waiting'])],'required':[('state','=','hrm1')], 'readonly':[('state','!=', 'hrm1')]}" />

								<field name="in_speech_number"
									attrs="{'invisible':[('state', 'not in', ['budget_external', 'hrm2', 'done'])],'readonly':[('state', 'in', [ 'hrm2', 'done'])],'required':[('state','=','budget_external')]}" />
								<field name="in_speech_date"
									attrs="{'invisible':[('state', 'not in', ['budget_external', 'hrm2', 'done'])],'readonly':[('state', 'in', [ 'hrm2', 'done'])],'required':[('state','=','budget_external')]}" />
								<field name="in_speech_file" filename="in_speech_file_name"
									attrs="{'invisible':[('state', 'not in', ['budget_external', 'hrm2', 'done'])],'readonly':[('state', 'in', [ 'hrm2', 'done'])],'required':[('state','=','budget_external')]}" />
							</group>
						</group>
						<field name="job_movement_ids" context="{'operation':'scale_down'}"
							attrs="{'readonly':[('state', '!=', 'new')]}" string=" الوظائف">
							<tree editable="bottom">
								<field name="job_id"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
								<field name="job_name_code" />
								<field name="type_id" />
								<field name="department_id" />
								<field name="grade_id" />
								<field name="new_job_name" />
								<field name="new_job_number" />
								<field name="new_department_id" />
								<field name="new_grade_id" />
							</tree>
						</field>
					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers"
							groups="base.group_user" />
						<field name="message_ids" widget="mail_thread" />
					</div>
					<field name="in_speech_file_name" invisible="1" />
					<field name="out_speech_file_name" invisible="1" />
				</form>
			</field>
		</record>
		<record id="action_hr_job_scal_down_grade" model="ir.actions.act_window">
			<field name="name">خفض وظائف</field>
			<field name="res_model">hr.job.move.grade</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="context">{'readonly_by_pass': True, 'default_move_type':
				'scale_down'}
			</field>
			<field name="domain">[('move_type', '=', 'scale_down')]</field>
		</record>

		<record id="action_hr_job_scal_down_grade_tree" model="ir.actions.act_window.view">
			<field name="view_mode">tree</field>
			<field name="view_id" ref="hr_job_scal_down_department_tree" />
			<field name="act_window_id" ref="action_hr_job_scal_down_grade" />
		</record>

		<record id="action_hr_job_scal_down_grade_form" model="ir.actions.act_window.view">
			<field name="view_mode">form</field>
			<field name="view_id" ref="hr_job_scal_down_department_form" />
			<field name="act_window_id" ref="action_hr_job_scal_down_grade" />
		</record>
		<menuitem id="hr_job_scal_down_department_menu" name="خفض وظائف"
			sequence="14" parent="hr_root_job" action="action_hr_job_scal_down_grade" />



		<!-- إلغاء وظائف -->
		<record model="ir.ui.view" id="hr_job_cancel_tree">
			<field name="name">hr.job.cancel.tree</field>
			<field name="model">hr.job.cancel</field>
			<field name="type">tree</field>
			<field name="arch" type="xml">
				<tree string="إلغاء وظائف">
					<field name="employee_id" />
					<field name="speech_number" />
					<field name="speech_date" />
					<field name="speech_file" />
				</tree>
			</field>
		</record>
		<record model="ir.ui.view" id="hr_job_cancel_form">
			<field name="name">hr.job.cancel.form</field>
			<field name="model">hr.job.cancel</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="إلغاء وظائف">
					<header>
						<button name="action_waiting" string="إرسال الطلب" type="object"
							states="new" confirm="هل أنت متأكد من القيام بهذا الإجراء ؟" />

						<button name="action_hrm" string="موافق" type="object"
							groups="smart_hr.group_job_cancelling" states="waiting" />

						<button name="%(action_hr_refuse_wizard)d" string="رفض"
							type="action" confirm="هل أنت متأكد من القيام بهذا الإجراء ؟"
							groups="smart_hr.group_job_cancelling" states="waiting" />

						<button name="action_done" string="إعتماد" type="object"
							states="hrm" />

						<field name="state" widget="statusbar" statusbar_visible="new,waiting,hrm,done,refused" />
					</header>
					<sheet>
						<group col="2">
							<field name="create_date" string="تاريخ الطلب" readonly="1" />
						</group>
						<group col="2">
							<group>
								<field name="employee_id"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
								<field name="speech_number"
									attrs="{'readonly':[('state', '!=', 'new')],'required':[('state','=','new')]}" />
								<field name="speech_date"
									attrs="{'readonly':[('state', '!=', 'new')],'required':[('state','=','new')]}" />
								<field name="speech_file" filename="speech_file_name"
									attrs="{'readonly':[('state', '!=', 'new')],'required':[('state','=','new')]}" />

							</group>
							<group>
								<field name="decision_number"
									attrs="{'invisible':[('state', 'in', ['new','waiting'])],'required':[('state','=','hrm')], 'readonly':[('state','!=', 'hrm')]}" />
								<field name="decision_date"
									attrs="{'invisible':[('state', 'in', ['new','waiting'])],'required':[('state','=','hrm')], 'readonly':[('state','!=', 'hrm')]}" />
								<field name="decision_file" filename="decision_file_name"
									attrs="{'invisible':[('state', 'in', ['new','waiting'])],'required':[('state','=','hrm')], 'readonly':[('state','!=', 'hrm')]}" />
							</group>
						</group>
						<field name="job_cancel_ids" string="إلغاء وظائف"
							attrs="{'readonly':[('state', '!=', 'new')]}">
							<tree editable="bottom">
								<field name="job_id" domain="[('state','=','unoccupied')]"
									options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}" />
								<field name="type_id" />
								<field name="department_id" />
								<field name="grade_id" />
							</tree>
						</field>
					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" widget="mail_followers"
							groups="base.group_user" />
						<field name="message_ids" widget="mail_thread" />
					</div>
					<field name="speech_file_name" invisible="1" />
					<field name="decision_file_name" invisible="1" />

				</form>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_hr_job_cancel">
			<field name="name">إلغاء وظائف</field>
			<field name="res_model">hr.job.cancel</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="context">{'readonly_by_pass': True}</field>
		</record>
		<menuitem id="hr_job_cancel_menu" name="إلغاء وظائف"
			sequence="17" parent="hr_root_job" action="action_hr_job_cancel" />


		<!-- حجز وظيفة -->
		<record model="ir.ui.view" id="hr_job_reservation_form">
			<field name="name">hr.job.reservation.form</field>
			<field name="model">hr.job.reservation</field>
			<field name="type">form</field>
			<field name="arch" type="xml">
				<form string="حجز وظيفة">
					<sheet>
						<group col="6">
							<field name="date_from" />
							<field name="date_to" />
							<field name="type_resevation" />
						</group>
					</sheet>
					<footer>
						<button name="action_job_reserve_confirm" string="موافق"
							type="object" />
						أو

						<button string="إلغاء" class="oe_link" special="cancel" />
					</footer>
				</form>
			</field>
		</record>
		<record model="ir.actions.act_window" id="action_hr_job_reservation">
			<field name="name">حجز وظيفة</field>
			<field name="res_model">hr.job.reservation</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>

	</data>
</openerp>
